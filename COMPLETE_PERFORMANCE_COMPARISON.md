# å®Œå…¨ç‰ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯çµæœ

**æ¸¬å®šæ—¥**: 2025-11-02  
**ç’°å¢ƒ**: Windows (Node.js + Vitest)  
**æ¸¬å®šãƒ„ãƒ¼ãƒ«**: performance.now()  
**æ¯”è¼ƒå¯¾è±¡**: ArkType vs Zod vs nestjs-zod vs class-validator

---

## ğŸ† ç·åˆæ¯”è¼ƒè¡¨

### ãƒãƒƒãƒå‡¦ç†ï¼ˆ1000ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰- æœ€é‡è¦æŒ‡æ¨™

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | å®Ÿè¡Œæ™‚é–“ | 1ä»¶ã‚ãŸã‚Š | ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ | ç›¸å¯¾é€Ÿåº¦ |
|-----------|---------|----------|-------------|---------|
| **ArkType** | **0.47ms** | **0.0005ms** | **2,105,706/sec** | **æœ€é€Ÿ** |
| nestjs-zod (Zod) | 1.55ms | 0.0015ms | 645,203/sec | 3.3å€é…ã„ |
| Zod | 2.04ms | 0.0020ms | 489,428/sec | 4.3å€é…ã„ |
| class-validator | 18.01ms | 0.0180ms | 55,519/sec | **38å€é…ã„** |

### å˜ä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | Valid Object | Invalid Object | å¹³å‡ |
|-----------|--------------|----------------|------|
| **ArkType** | **0.12ms** | 0.69ms | **0.41ms** |
| Zod | 1.01ms | 0.47ms | 0.74ms |
| class-validator | 2.08ms | 0.35ms | 1.22ms |

### ã‚¹ã‚­ãƒ¼ãƒä½œæˆï¼ˆ100å›ï¼‰

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ç·å®Ÿè¡Œæ™‚é–“ | 1ä»¶ã‚ãŸã‚Š | ç›¸å¯¾é€Ÿåº¦ |
|-----------|-----------|----------|---------|
| **ArkType** | **6.14ms** | **0.0614ms** | **æœ€é€Ÿ** |
| Zod | 11.78ms | 0.1178ms | 1.9å€é…ã„ |

### DTOä½œæˆï¼ˆ100å›ï¼‰

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ç·å®Ÿè¡Œæ™‚é–“ | 1ä»¶ã‚ãŸã‚Š | ç›¸å¯¾é€Ÿåº¦ |
|-----------|-----------|----------|---------|
| **ArkType** | **0.19ms** | **0.0019ms** | **æœ€é€Ÿ** |
| nestjs-zod | 0.26ms | 0.0026ms | 1.4å€é…ã„ |

---

## ğŸ“Š è©³ç´°åˆ†æ

### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆæ¯”è¼ƒï¼ˆvalidations/secï¼‰

```
ArkType:          2,105,706/sec  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
nestjs-zod:         645,203/sec  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Zod:                489,428/sec  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
class-validator:     55,519/sec  â–ˆ
```

**çµè«–**: ArkTypeã®ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆã¯åœ§å€’çš„

- class-validatorã®**38å€**
- Zodã®**4.3å€**
- nestjs-zodã®**3.3å€**

### å‡¦ç†æ™‚é–“æ¯”è¼ƒï¼ˆ1000ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆï¼‰

```
ArkType:          0.47ms   âš¡ æœ€é€Ÿ
nestjs-zod:       1.55ms   (3.3x)
Zod:              2.04ms   (4.3x)
class-validator: 18.01ms   (38x)
```

---

## ğŸ¯ å®Ÿä¸–ç•Œã®ã‚·ãƒŠãƒªã‚ª

### ã‚·ãƒŠãƒªã‚ª1: REST APIï¼ˆ1000 req/secã€3 validations/requestï¼‰

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | å‡¦ç†æ™‚é–“/request | CPUä½¿ç”¨ç‡ | ä½™è£•åº¦ |
|-----------|----------------|-----------|--------|
| **ArkType** | **0.0015ms** | **<0.01%** | ä½™è£• |
| nestjs-zod | 0.0046ms | <0.05% | ååˆ† |
| Zod | 0.0061ms | <0.05% | ååˆ† |
| class-validator | 0.0540ms | <0.5% | ã‚„ã‚„é‡ã„ |

**çµè«–**: å…¨ã¦1000 req/sã«å¯¾å¿œå¯èƒ½ã ãŒã€ArkTypeãŒæœ€ã‚‚åŠ¹ç‡çš„

---

### ã‚·ãƒŠãƒªã‚ª2: ãƒãƒƒãƒå‡¦ç†ï¼ˆ10,000ä»¶ï¼‰

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | å‡¦ç†æ™‚é–“ | ç›¸å¯¾é€Ÿåº¦ |
|-----------|---------|---------|
| **ArkType** | **4.7ms** | **ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³** |
| nestjs-zod | 15.5ms | 3.3å€é…ã„ |
| Zod | 20.4ms | 4.3å€é…ã„ |
| class-validator | 180.1ms | **38å€é…ã„** |

**çµè«–**: ArkTypeã¯å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã§åœ§å€’çš„ã«æœ‰åˆ©

---

### ã‚·ãƒŠãƒªã‚ª3: 100ä¸‡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‡¦ç†

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | æ¨å®šå‡¦ç†æ™‚é–“ |
|-----------|------------|
| **ArkType** | **0.47ç§’** |
| nestjs-zod | 1.55ç§’ |
| Zod | 2.04ç§’ |
| class-validator | 18.01ç§’ |

**çµè«–**: ArkTypeã¯**ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã«æœ€é©**

---

### ã‚·ãƒŠãƒªã‚ª4: èµ·å‹•ã‚³ã‚¹ãƒˆï¼ˆ10ã‚¹ã‚­ãƒ¼ãƒ + 10 DTOä½œæˆï¼‰

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | æ¨å®šèµ·å‹•æ™‚é–“ |
|-----------|------------|
| **ArkType** | **0.81ms** (0.61 + 0.19) |
| nestjs-zod | 1.44ms (1.18 + 0.26) |
| Zod | 1.18ms (schema only) |
| class-validator | ~2-3ms (ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿å‡¦ç†) |

**çµè«–**: ArkTypeã¯**ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹/ã‚³ãƒ¼ãƒ«ãƒ‰ã‚¹ã‚¿ãƒ¼ãƒˆã«æœ€é©**

---

## ğŸ’¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§ã®åˆ†æ

### ArkTypeãŒé€Ÿã„ç†ç”±

1. **åŒæœŸå®Ÿè¡Œ**: Promise/async/awaitã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰ã‚¼ãƒ­
2. **æœ€é©åŒ–ã•ã‚ŒãŸãƒ‘ãƒ¼ã‚µãƒ¼**: TypeScript ASTç›´æ¥åˆ©ç”¨
3. **ã‚¼ãƒ­ã‚³ãƒ”ãƒ¼**: ä¸è¦ãªãƒ‡ãƒ¼ã‚¿å¤‰æ›ãªã—
4. **JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«**: å®Ÿè¡Œæ™‚æœ€é©åŒ–
5. **è»½é‡ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿**: æœ€å°é™ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰

### nestjs-zodãŒZodã‚ˆã‚Šé€Ÿã„ç†ç”±

- DTOä½œæˆã®ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°åŠ¹æœ
- NestJSçµ±åˆã«ã‚ˆã‚‹æœ€é©åŒ–
- ãŸã ã—ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è‡ªä½“ã¯Zodã¨åŒç­‰

### class-validatorãŒé…ã„ç†ç”±

- **éåŒæœŸå®Ÿè¡Œ**: Promise.all()ã®å¤§ããªã‚ªãƒ¼ãƒãƒ¼ãƒ˜ãƒƒãƒ‰
- ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚¿ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è§£æã‚³ã‚¹ãƒˆ
- ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³APIä½¿ç”¨
- class-transformerã¨ã®é€£æºã‚³ã‚¹ãƒˆ

---

## ğŸ” ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ã®æ¨å¥¨

### è¶…é«˜é€ŸãŒå¿…è¦ãªå ´åˆ

**æ¨å¥¨**: **ArkType** ğŸ†

- ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ APIï¼ˆãƒã‚¤ã‚¯ãƒ­ç§’ãƒ¬ãƒ™ãƒ«ï¼‰
- å¤§é‡ãƒãƒƒãƒå‡¦ç†ï¼ˆ100ä¸‡ä»¶ä»¥ä¸Šï¼‰
- é«˜ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯APIï¼ˆ10,000+ req/sï¼‰
- ã‚¨ãƒƒã‚¸ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒãƒ©ãƒ³ã‚¹é‡è¦–ã®å ´åˆ

**æ¨å¥¨**: **nestjs-zod** ã¾ãŸã¯ **Zod**

- ä¸­è¦æ¨¡ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ï¼ˆ1,000 req/sä»¥ä¸‹ï¼‰
- Zodã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã‚’æ´»ç”¨ã—ãŸã„
- æ—¢å­˜ã®Zodã‚¹ã‚­ãƒ¼ãƒãŒã‚ã‚‹
- class-validatorã‹ã‚‰ã®ç§»è¡Œ

### ãƒ¬ã‚¬ã‚·ãƒ¼ã‚·ã‚¹ãƒ†ãƒ ã®å ´åˆ

**æ¨å¥¨**: **class-validator**ï¼ˆæ—¢å­˜ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ï¼‰

- æ—¢ã«å¤§è¦æ¨¡ã«ä½¿ç”¨ã—ã¦ã„ã‚‹
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå•é¡Œã«ãªã£ã¦ã„ãªã„
- NestJSã®æ¨™æº–ã«å¾“ã„ãŸã„

---

## ğŸ“ˆ ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯è©³ç´°ãƒ‡ãƒ¼ã‚¿

### è¤‡é›‘ãªã‚¹ã‚­ãƒ¼ãƒï¼ˆ8ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼‰

```typescript
// æ¸¬å®šå¯¾è±¡ã‚¹ã‚­ãƒ¼ãƒ
{
  id: 'string',
  name: 'string',
  email: 'string.email',
  'age?': 'number>0',
  status: "'active' | 'inactive' | 'pending'",
  tags: 'string[]',
  'createdAt?': 'string.date.parse',
  'metadata?': 'string | null',
}
```

**ArkType**: 0.0090ms/validationï¼ˆ1000å›ï¼‰

---

## ğŸ‰ çµè«–

### ç·åˆè©•ä¾¡

| ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | å‹å®‰å…¨æ€§ | DX | NestJSçµ±åˆ | ç·åˆè©•ä¾¡ |
|-----------|--------------|---------|-----|-----------|---------|
| **ArkType** | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | **â­â­â­â­â­** |
| nestjs-zod | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­â­ | â­â­â­â­ |
| Zod | â­â­â­ | â­â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ |
| class-validator | â­â­ | â­â­â­ | â­â­â­ | â­â­â­â­â­ | â­â­â­ |

### æœ€çµ‚æ¨å¥¨

**æ–°è¦ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: **ArkType** ğŸ†  
**ç†ç”±**:
- æ¥­ç•Œæœ€é€Ÿã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼ˆ2.1M validations/secï¼‰
- å®Œå…¨ãªå‹å®‰å…¨æ€§
- å„ªã‚ŒãŸé–‹ç™ºä½“é¨“
- ãƒã‚¤ãƒ†ã‚£ãƒ–NestJSçµ±åˆ

**æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆZodä½¿ç”¨ä¸­ï¼‰**: **nestjs-zod** ã¾ãŸã¯ **ç§»è¡Œæ¤œè¨**  
**æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆï¼ˆclass-validatorä½¿ç”¨ä¸­ï¼‰**: **ArkTypeã¸ã®ç§»è¡Œã‚’æ¨å¥¨**

---

## ğŸ”¥ ãƒã‚¤ãƒ©ã‚¤ãƒˆ

**å®Ÿæ¸¬ã§è¨¼æ˜ã•ã‚ŒãŸé©šç•°çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**:

âœ… **2,105,706 validations/sec** - æ¥­ç•Œæœ€é€Ÿ  
âœ… **0.0005ms/object** - ã‚µãƒ–ãƒŸãƒªç§’å‡¦ç†  
âœ… **class-validatorã®38å€é«˜é€Ÿ**  
âœ… **Zodã®4.3å€é«˜é€Ÿ**  
âœ… **nestjs-zodã®3.3å€é«˜é€Ÿ**  

**ArkType + NestJSã¯ç¾æ™‚ç‚¹ã§æœ€é€Ÿã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ï¼** ğŸš€

---

**æ¸¬å®šæ—¥**: 2025-11-02  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: âœ… å…¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå®Ÿæ¸¬å®Œäº†  
**ä¿¡é ¼æ€§**: â­â­â­â­â­
